<nav class="app-menu">
  <div class="app-layout app-row">
    <!-- Лого -->
    <a class="app-link-no-color app-menu-logo app-bold" [routerLink]="'/'">Marketplace</a>

    <!-- Пункты меню -->
    <ng-container *ngFor="let link of menu">
      <a class="app-link-no-color app-menu-item" [routerLink]="link.path" routerLinkActive="active">{{ link.text }}</a>
    </ng-container>

    <div class="app-col"></div>

    <!-- Сообщения -->
    <a routerLink="messages" routerLinkActive="active" class="app-menu-icon app-secondary-color">
      <div class="app-ghost-color"><clr-icon shape="app-comment-big" size="24"></clr-icon></div>
    </a>

    <!-- Корзина -->
    <ng-container *ngIf="featureService.authorize('catalog')">
      <a class="app-menu-icon" routerLink="cart" routerLinkActive="active" *ngIf="cartStoreService.getCount() > 0">
        <clr-icon class="app-ghost-color" shape="app-basket-big" size="24"></clr-icon>
        <small class="basket-counter">{{ cartStoreService.getCount() }}</small>
      </a>

      <div *ngIf="cartStoreService.getCount() === 0" class="app-menu-icon app-ghost-color">
        <clr-icon shape="app-basket-big" size="24"></clr-icon>
      </div>
    </ng-container>

    <!-- Профиль -->
    <div class="app-menu-login">
      <uxg-popover #popover>
        <div uxgPopoverTrigger class="app-row app-align-items-center">
          <img src="assets/images/avatar.svg"/>
          <div>
            <div class="app-ellipsis">{{ user.getShortUserFio() }}</div>
            <div class="app-ghost-color app-ellipsis">{{ userBriefInfo }}</div>
          </div>
        </div>
        <div *uxgPopoverContent="'app-popover-content-bottom-right'">
          <button uxgButton clear (click)="popover.hide(); logout();">Выход</button>
        </div>
      </uxg-popover>
    </div>
  </div>
</nav>
