<div class="app-row" *ngIf="cartItems$ | async; else emptyCart">
  <div class="app-col">
    <ng-container *ngIf="(cartItems$ | async).length !== 0; else emptyCart">
    <div class="app-card" *ngFor="let cartItem of cartItems$ | async">
      <div class="app-row">
        <div class="app-col app-bold name">
          {{cartItem.kimDictionaryPosition.dictionaryPositionName}}
        </div>
        <div class="app-col app-grow-0">
          <button uxgButton icon clear disabled>
            <clr-icon shape="app-trash" class="is-solid" size="14" [style.opacity]="0.6"></clr-icon>
          </button>
        </div>
      </div>
      <div class="app-row">
        <div class="app-col">
          <div class="app-secondary-color">
            Единица измерения
          </div>
          <div class="measure-units">
          </div>
        </div>
        <div class="app-col">
          <div class="app-secondary-color">
            Код позиции
          </div>
          <div class="position-code">
            {{cartItem.kimDictionaryPosition.dictionaryPositionCategoryCode}}
          </div>
        </div>
        <div class="app-col quantity clr-align-items-center">
          <span class="app-secondary-color quantity-label">Количество</span>
          <input uxgInput value="{{cartItem.quantity}}" disabled>
        </div>
        <div class="app-col">
        </div>
      </div>
    </div>
    </ng-container>
  </div>
  <div class="app-col app-col-aside">
    <h2>Итого в корзине</h2>
    <p class="app-secondary-color">Товаров</p>
    <span class="app-bold">{{(cartItems$ | async).length}}</span>
    <p class="app-secondary-color">Дата обновления</p>
    <div class="app-bold">
      -
    </div>
    <button uxgButton lg primary class="create-request"
    (click)="createPriceOrderModal.open()">Отправить ценовой запрос</button>
  </div>
</div>

<ng-template #emptyCart>
  <div class="empty app-row app-justify-content-center app-align-items-center">
    <h1 class="text-center" [style.opacity]="0.1">
      <clr-icon shape="app-basket" size="270"></clr-icon>
      <br/>
      Корзина пуста
    </h1>
  </div>
</ng-template>

<!-- Модальное окно содание ЦЗ -->
<clr-modal #createPriceOrderModal [clrModalSize]="'lg'">
  <h2 class="modal-title">Создание ценового запроса из корзины</h2>
  <div class="modal-body" *ngIf="createPriceOrderModal._open">
    <app-kim-price-order-form [cartView]="true" (close)="createPriceOrderModal.close()"></app-kim-price-order-form>
  </div>
</clr-modal>
