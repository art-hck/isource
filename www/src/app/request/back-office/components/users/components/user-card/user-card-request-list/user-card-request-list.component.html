<clr-datagrid class="requests-list-datagrid">

  <clr-dg-row *ngFor="let request of requests" (click)="onRowClick(request)">
    <clr-dg-cell class="request-number clr-col-1 clr-align-self-center">
      <b>{{ request.request?.number }}</b>
    </clr-dg-cell>

    <clr-dg-cell class="customer-name clr-col-3 clr-align-self-center"
                 title="{{ request.request.contragent?.shortName }}">
      {{ request.request.contragent?.shortName }}
    </clr-dg-cell>

    <clr-dg-cell class="request-name clr-col clr-align-self-center"
                 title="{{ request.request.name }}">
      {{ request.request.name }}
    </clr-dg-cell>

    <clr-dg-cell class="request-completed clr-col-1 clr-align-self-center">
      <div class="pie-chart">
        <svg width="20" height="20" class="chart">
          <circle r="10" cx="10" cy="10" class="pie" />
          <circle r="10" cx="10" cy="10" class="pie" [attr.stroke-dashoffset]="calcPieChart(request)" />
        </svg>

        <div>
          <span [ngClass]="{ 'light-grey' : request.completedCount === 0}">
            {{ request.completedCount }}
          </span>
          <span class="light-grey"> из</span> {{ request.positionCount }}
        </div>
      </div>
    </clr-dg-cell>
  </clr-dg-row>

</clr-datagrid>