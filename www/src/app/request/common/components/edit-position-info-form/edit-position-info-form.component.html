<form [formGroup]="positionInfoDataForm" class="form">
  <div class="clr-row">

    <div class="clr-col-12">
      <clr-input-container>
        <label>Наименование МТР</label>
        <input clrInput
               type="text"
               name="name"
               formControlName="name"
               [class.invalid]="isFieldValid('name')"
               />
      </clr-input-container>
    </div>

    <div class="clr-break-row"></div>

    <div class="clr-col-4">
      <clr-date-container>
        <label for="deliveryDate">Необходимый срок поставки</label>
        <input clrDate
               type="date"
               id="deliveryDate"
               name="deliveryDate"
               placeholder="ДД.ММ.ГГГГ"
               formControlName="deliveryDate"
               [class.invalid]="isFieldValid('deliveryDate')"/>
      </clr-date-container>
    </div>

    <div class="clr-col-4 checkbox-block">
      <div class="isDeliveryDateAsap">
        <clr-checkbox-container>
          <clr-checkbox-wrapper>
            <input clrCheckbox
                   type="checkbox"
                   name="isDeliveryDateAsap"
                   formControlName="isDeliveryDateAsap"
                   [class.invalid]="isFieldValid('isDeliveryDateAsap')">
            <label>как можно скорее</label>
          </clr-checkbox-wrapper>
        </clr-checkbox-container>
      </div>
    </div>


    <div class="clr-break-row"></div>


    <div class="clr-col-12">
      <clr-input-container>
        <label>Базис поставки <br>
          (пункт, до которого требуется доставка)</label>
        <input clrInput
               type="text"
               formControlName="deliveryBasis"
               [class.invalid]="isFieldValid('deliveryBasis')"
               value="{{requestPosition.deliveryBasis}}">
      </clr-input-container>
    </div>


    <div class="clr-break-row"></div>


    <div class="clr-col-12">
      <clr-input-container>
        <label>Условия оплаты</label>
        <input clrInput
               type="text"
               formControlName="paymentTerms"
               value="{{requestPosition.paymentTerms}}"
               [class.invalid]="isFieldValid('paymentTerms')">
      </clr-input-container>
    </div>


    <div class="clr-break-row"></div>


    <div class="clr-col-6">
      <clr-input-container>
        <label>Количество</label>
        <input clrInput
               type="number"
               name="quantity"
               formControlName="quantity"
               min="0.1"
               step="0.01" class="hidden-arrows text-right price"
               value="{{requestPosition.quantity}}"
               [class.invalid]="isFieldValid('quantity')">
      </clr-input-container>
    </div>


    <div class="clr-col-6">
      <clr-input-container>
        <label>Ед. измерения</label>
        <input clrInput
               type="text"
               name="measureUnit"
               formControlName="measureUnit"
               value="{{requestPosition.measureUnit}}"
               [class.invalid]="isFieldValid('measureUnit')">
      </clr-input-container>
    </div>


    <div class="clr-break-row"></div>


    <div class="clr-col-6">
      <clr-input-container>
        <label>Начальная максимальная цена</label>
        <input clrInput
               type="number"
               name="startPrice"
               formControlName="startPrice"
               min="0.1"
               step="0.01" class="hidden-arrows text-right price"
               value="{{requestPosition.startPrice}}"
               [class.invalid]="isFieldValid('startPrice')">
      </clr-input-container>
    </div>

    <div class="clr-col-6">
      <clr-select-container>
        <label>Валюта</label>
        <select clrSelect name="currency" formControlName="currency" class="select">
          <option value="RUB" [selected]="checkIfSelected('RUB')">RUB</option>
          <option value="USD" disabled [selected]="checkIfSelected('USD')">USD</option>
          <option value="EUR" disabled [selected]="checkIfSelected('EUR')">EUR</option>
          <option value="CHF" disabled [selected]="checkIfSelected('CHF')">CHF</option>
        </select>
      </clr-select-container>
    </div>


    <div class="clr-break-row"></div>


    <div class="clr-col-12">
      <clr-input-container>
        <label>
          Документ, в соответствии с которым необходимо изготовление <br>
          (НТД: ГОСТ/ТУ, ТЗ, ОЛ, ЗТП и т.п.)
        </label>

        <input clrInput
               type="text"
               formControlName="productionDocument"
               value="{{requestPosition.productionDocument}}">
      </clr-input-container>
    </div>


    <div class="clr-break-row"></div>


    <div class="clr-col-12">
      <div class="isDesignRequired">
        <clr-checkbox-wrapper>
          <input type="checkbox" formControlName="isDesignRequired" clrCheckbox>
          <label class="clr-control-label nopadding">Требуется РКД</label>
        </clr-checkbox-wrapper>
      </div>
    </div>

    <div class="clr-break-row"></div>


    <div class="clr-col-12">
      <div class="relatedServices clr-row">
        <div class="clr-col-12">
          <label class="nopadding">Необходимость сопутствующих услуг
            (ШМР, ПНР, Инспекционный контроль)</label>
        </div>

        <div class="clr-col-auto">
          <clr-checkbox-wrapper>
            <input type="checkbox" formControlName="isShmrRequired" clrCheckbox>
            <label class="clr-control-label nopadding">ШМР</label>
          </clr-checkbox-wrapper>
        </div>

        <div class="clr-col-auto">
          <clr-checkbox-wrapper>
            <input type="checkbox" formControlName="isPnrRequired" clrCheckbox>
            <label class="clr-control-label nopadding">ПНР</label>
          </clr-checkbox-wrapper>
        </div>

        <div class="clr-col-auto">
          <clr-checkbox-wrapper>
            <input type="checkbox" formControlName="isInspectionControlRequired" clrCheckbox>
            <label class="clr-control-label nopadding">Инспекционный контроль</label>
          </clr-checkbox-wrapper>
        </div>

      </div>
    </div>


    <div class="clr-break-row"></div>


    <div class="clr-col-12">
      <clr-textarea-container>
        <label>Примечания/комментарии</label>
        <textarea clrTextarea
                  type="textarea"
                  name="comments"
                  formControlName="comments">
                {{requestPosition.comments}}
        </textarea>
      </clr-textarea-container>
    </div>


    <div class="clr-break-row"></div>


    <div class="clr-col-12">
      <button type="button"
              class="btn btn-primary"
              (click)="onSavePositionInfo()"
              [disabled]="positionInfoDataForm.invalid">
        {{ requestPosition.id ? 'Сохранить' : 'Создать' }}
      </button>
    </div>
  </div>
</form>
