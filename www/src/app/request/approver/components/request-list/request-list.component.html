<ng-container uxgFilter>
  <!-- tabs -->
  <div class="app-row">
    <div class="app-col">
      <div class="app-row app-align-items-center">
        <uxg-tabs class="app-col">
          <uxg-tab-title (click)="clickOnTab('onReviewTab')" [active]="true">
            <span>Необходимо рассмотреть </span>
            <span class="counter">({{(statusCounters$ | async)?.inProgressRequestsCount}})</span>
          </uxg-tab-title>
          <uxg-tab-title #approvedTab (click)="clickOnTab('reviewedTab')">
            <span>Рассмотренные </span>
            <span class="counter">({{(statusCounters$ | async)?.newRequestsCount}})</span>
          </uxg-tab-title>
        </uxg-tabs>
        <uxg-filter-button></uxg-filter-button>
      </div>
    </div>
    <div class="app-col-aside detachable"></div>
  </div>

  <!-- headers -->
  <div class="app-row">
    <div class="app-col">
      <div class="app-table app-no-border">
        <div class="app-row app-uppercase app-ghost-color app-bold">
          <small class="app-col-auto number"><span>Номер</span></small>
          <small class="app-col-6 name"><span>Наименование</span></small>
          <small class="app-col-2 initiator">Инициатор</small>
          <small class="app-col-2 published">Поступила/создана</small>
          <small class="app-col-2 total">Общая стоимость</small>
        </div>
      </div>
    </div>
    <div class="app-col-aside detachable"></div>
  </div>

  <div class="app-row">
    <div class="app-col table-col">
      <div class="app-table" [class.disabled]="(status$ | async) !== 'received'">
        <a class="app-row app-link-no-color" [routerLink]="request.request.id" [queryParams]="{showOnlyApproved: approvedTab.active ? 1:0 }" *ngFor="let request of requests$ | async">
          <div class="app-col-auto number app-bold">{{ request.request.number | number:'1.0-2' }}</div>
          <div class="app-col-6 name app-ellipsis">{{ request.request.name }}</div>
          <div class="app-col-2 initiator app-ellipsis">qdwdqwdqw</div>
          <div class="app-col-2 published app-ghost-color">{{ request.request.publishedDate | date:'dd.MM.yyyy' }}</div>
          <div class="app-col-2 total app-ellipsis app-bold">
            <span>{{2230000 | number:'1.0-2'}} </span>
            <span class="app-ghost-color">{{getCurrencySymbol('RUB', "narrow")}}</span>
          </div>
        </a>
      </div>
      <br/>

      <app-pagination [total]="tabTotalCount$ | async" [pageSize]="pageSize" [pages$]="pages$" (change)="fetchFilters$.next({page: $event})"></app-pagination>
    </div>

    <uxg-filter [formGroup]="form" [count]="totalCount$ | async" (filter)="fetchFilters$.next($event)">
      <uxg-filter-section label="Заявка">
        <input uxgInput type="text" formControlName="requestNameOrNumber" placeholder="Номер или наименование заявки" />
      </uxg-filter-section>
    </uxg-filter>
  </div>
</ng-container>
