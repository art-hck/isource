<div class="proposals-footer-body app-row app-align-items-center">
  <button uxgButton outline lg (click)="chooseBy$.next('price')">Автовыбор по цене</button>
  <button uxgButton outline lg (click)="chooseBy$.next('date')">Автовыбор по дате</button>
  <div class="app-col"></div>

  <ng-container>
    <ng-container *ngIf="viewType === 'list'; else gridTotalSum">
      <h3 class="total-sum">
        <span class="app-ghost-color app-font-normal">Общая сумма: </span>
        <span>
          {{ getSummaryPriceByPositions(selectedPositions) | number: "1.0-2" }} <span class="app-ghost-color">{{ getCurrencySymbol('RUB', 'narrow') }}</span>
        </span>
      </h3>

      <div class="vertical-divider"></div>

      <div class="app-col-auto selected-counter">
        <span class="app-ghost-color">Выбрано позиций: </span>
        <span>{{ selectedPositions.length }}</span>
      </div>
    </ng-container>

    <ng-template #gridTotalSum>
      <h3 *ngIf="total > 0" class="total-sum">
        <span class="app-ghost-color app-font-normal">Общая сумма: </span>
        <span>
          {{ total | number: "1.0-2" }} <span class="app-ghost-color">{{ getCurrencySymbol('RUB', 'narrow') }}</span>
        </span>
      </h3>
    </ng-template>
  </ng-container>

  <ng-container *ngIf="viewType === 'list'; else gridButtons">
    <button uxgButton secondary lg (click)="sendToEditFromListView.emit()" [disabled]="loading || selectedPositions.length === 0">
      На доработку
    </button>

    <button uxgButton primary lg (click)="approveFromListView.emit()" [disabled]="loading || selectedPositions.length === 0">
      Выбрать победителя
    </button>
  </ng-container>

  <ng-template #gridButtons>
    <button *ngIf="sendToEdit.observers.length" uxgButton secondary lg (click)="sendToEdit.emit()" [disabled]="loading">
      Все на доработку
    </button>

    <button *ngIf="reject.observers.length" uxgButton secondary lg (click)="reject.emit()" [disabled]="loading">
      Отклонить все
    </button>

    <button *ngIf="approve.observers.length" uxgButton primary lg (click)="approve.emit()" [disabled]="loading || disabled">
      Согласовать все
    </button>
  </ng-template>
</div>
