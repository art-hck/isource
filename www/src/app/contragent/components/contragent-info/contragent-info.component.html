<ng-template #loading class="load-block">
  <span class="spinner spinner-md"></span>
</ng-template>

<div class="contragent-info-content" *ngIf="contragent; else loading">


  <div class="loader">
    <button class="btn btn-primary btn-sm download-report-button"
            [clrLoading]="getLoaderState()"
            (click)="onDownloadPrimaInformReport()">
      Скачать отчет из Прима-Информ
    </button>
  </div>


  <div class="basic-info">
    <div class="info-field clr-row">
      <div class="clr-col-12">
        <label class="clr-control-label" for="shortName">Краткое наименование</label>
        <span>{{ contragent.shortName || '—' }}</span>
      </div>
    </div>

    <div class="info-field clr-row">
      <div class="clr-col-12">
        <label class="clr-control-label" for="fullName">Полное наименование</label>
        <span>{{ contragent.fullName || '—' }}</span>
      </div>
    </div>

    <div class="info-field clr-row">
      <div class="clr-col-4">
        <label class="clr-control-label" for="inn">ИНН</label>
        <span>{{ contragent.inn }}</span>
      </div>

      <div class="clr-col-4">
        <label class="clr-control-label" for="kpp">КПП</label>
        <span>{{ contragent.kpp || '—' }}</span>
      </div>

      <div class="clr-col-4">
        <label class="clr-control-label" for="ogrn">ОГРН/ОГРНИП</label>
        <span>{{ contragent.ogrn || '—' }}</span>
      </div>
    </div>

    <div class="info-field clr-row">
      <div class="clr-col-4">
        <label class="clr-control-label" for="checkedDate">Дата регистрации</label>
        <span>{{ contragent.taxAuthorityRegistrationDate ?
                (contragent.taxAuthorityRegistrationDate | date : 'shortDate') :
                 '—' }}</span>
      </div>

      <div class="clr-col-4">
        <label class="clr-control-label" for="contragentEmail">Email</label>
        <span>{{ contragent.email || '—' }}</span>
      </div>

      <div class="clr-col-4">
        <label class="clr-control-label" for="contragentPhone">Телефон</label>
        <span>{{ contragent.phone || '—' }}</span>
      </div>
    </div>
  </div>


  <div class="legal-info">
    <h3>Юридический адрес</h3>

    <div class="info-field clr-row">
      <div class="clr-col-4">
        <label class="clr-control-label" for="country">Страна</label>
        <span>{{ contragent.addresses[0]?.country || '—' }}</span>
      </div>

      <div class="clr-col-4">
        <label class="clr-control-label" for="area">Регион/область</label>
        <span>{{ contragent.addresses[0]?.region || '—' }}</span>
      </div>

      <div class="clr-col-4">
        <label class="clr-control-label" for="city">Город/район</label>
        <span>{{ contragent.addresses[0]?.city || '—' }}</span>
      </div>
    </div>

    <div class="info-field clr-row">
      <div class="clr-col-4">
        <label class="clr-control-label" for="index">Почтовый индекс</label>
        <span>{{ contragent.addresses[0]?.postIndex || '—' }}</span>
      </div>

      <div class="clr-col-4">
        <label class="clr-control-label" for="town">Населенный пункт</label>
        <span>{{ contragent.addresses[0]?.locality || '—' }}</span>
      </div>

      <div class="clr-col-4">
        <label class="clr-control-label" for="address">Адрес</label>
        <span>{{ contragent.addresses[0]?.address || '—' }}</span>
      </div>
    </div>
  </div>


  <div class="bank-info">
    <h3>Банковские реквизиты</h3>

    <div class="info-field clr-row">
      <div class="clr-col-4">
        <label class="clr-control-label" for="bik">БИК</label>
        <span>{{ contragent.bankRequisites[0]?.bik || '—' }}</span>
      </div>

      <div class="clr-col-4">
        <label class="clr-control-label" for="bankAccount">Расчетный счет</label>
        <span>{{ contragent.bankRequisites[0]?.account || '—' }}</span>
      </div>

      <div class="clr-col-4">
        <label class="clr-control-label" for="corrAccount">Корреспондентский счет</label>
        <span>{{ contragent.bankRequisites[0]?.correspondentAccount || '—' }}</span>
      </div>
    </div>

    <div class="info-field clr-row">
      <div class="clr-col-4">
        <label class="clr-control-label" for="bankName">Наименование банка</label>
        <span>{{ contragent.bankRequisites[0]?.name || '—' }}</span>
      </div>

      <div class="clr-col-auto">
        <label class="clr-control-label" for="bankAddress">Адрес банка</label>
        <span>{{ contragent.bankRequisites[0]?.address || '—' }}</span>
      </div>
    </div>
  </div>

</div>
